<!DOCTYPE html>
<html>
<head>
    <title>Avraham Reuse 2.0</title>
    <script type="text/javascript" src="scripts/main-dense-2.js"></script>
    <link rel="stylesheet" href="styles/style-dense-2.css">
</head>
<body>
    <div class="main-container">
        <!-- Left side: Bible Reader -->
        <div class="left-panel" id="left-panel">
            <button class="panel-toggle" id="left-panel-toggle" title="Hide Bible Reader">×</button>
            <div class="bible-reader-container">
                <!-- Navigation Column -->
                <div class="nav-column" id="nav-column">
                    <div class="nav-header">
                        <span>&nbsp;</span>
                        <button class="mobile-close-btn" id="nav-close-btn" style="display: none;">×</button>
                    </div>
                    <div class="nav-list" id="nav-list">
                        <!-- Populated by JavaScript -->
                    </div>
                </div>
                
                <!-- Verse Selection Column -->
                <div class="verse-selection-column" id="verse-selection-column">
                    <div class="verse-header">
                        <div>Verses</div>
                        <div style="display: flex; gap: 5px;">
                            <button class="clear-all-btn" id="clear-all-btn" title="Clear all selections">Clear</button>
                            <button class="mobile-close-btn" id="verse-close-btn" style="display: none;">×</button>
                        </div>
                    </div>
                    <div class="verse-list" id="verse-list">
                        <!-- Populated by JavaScript -->
                    </div>
                    <button class="select-all-btn" id="select-all-btn" style="display: none;">All</button>
                </div>
                
                <!-- Iframe Column -->
                <div class="iframe-column">
                    <div class="iframe-controls">
                        <button id="hamburger-btn" class="hamburger-btn" style="display: none;" title="Show navigation">☰</button>
                        <div style="flex: 1; display: flex; justify-content: space-between; gap: 10px; align-items: center;">
                            <button id="prev-btn" class="nav-btn">← Previous</button>
                            <button id="fullscreen-btn" class="fullscreen-btn" title="Full Screen Bible Reader">Full Screen</button>
                            <button id="next-btn" class="nav-btn">Next →</button>
                        </div>
                    </div>
                    <div style="position: relative; flex: 1; overflow: hidden;">
                        <iframe 
                            id="bible-visual-iframe"
                            src="https://bibleproject-genesis-one.web.app/"
                            style="width: 100%; height: 100%; border: none;">
                        </iframe>
                        <!-- Audio Player -->
                        <div id="audio-player-container" class="audio-player-container">
                            <!-- Collapsed Icon -->
                            <button id="audio-player-toggle" class="audio-player-icon" title="Audio Tour Guide">
                                <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="currentColor">
                                    <path d="M560-131v-82q90-26 145-100t55-168q0-94-55-168T560-749v-82q124 28 202 125.5T840-481q0 127-78 224.5T560-131ZM120-360v-240h160l200-200v640L280-360H120Zm440 40v-322q47 22 73.5 66t26.5 96q0 51-26.5 94.5T560-320ZM400-606l-86 86H200v80h114l86 86v-252ZM300-480Z"/>
                                </svg>
                            </button>
                            <!-- Expanded Controls -->
                            <div id="audio-player-controls" class="audio-player-controls">
                                <audio id="audio-player" preload="metadata"></audio>
                                <div class="audio-controls-main">
                                    <button id="audio-play-pause" class="audio-btn audio-btn-primary" title="Play/Pause">
                                        <svg id="play-icon" width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                                            <path d="M8 5v14l11-7z"/>
                                        </svg>
                                        <svg id="pause-icon" width="20" height="20" viewBox="0 0 24 24" fill="currentColor" style="display: none;">
                                            <path d="M6 4h4v16H6V4zm8 0h4v16h-4V4z"/>
                                        </svg>
                                    </button>
                                    <div class="audio-progress-container">
                                        <span id="audio-current-time" class="audio-time">0:00</span>
                                        <input type="range" id="audio-progress" class="audio-progress" min="0" max="100" value="0" step="0.1">
                                        <span id="audio-duration" class="audio-time">0:00</span>
                                    </div>
                                    <button id="audio-jump-to-section" class="audio-btn" title="Jump to current section">
                                        <svg xmlns="http://www.w3.org/2000/svg" height="18px" viewBox="0 -960 960 960" width="18px" fill="currentColor">
                                            <path d="m436-320 164-440h80l164 440h-76l-40-112H552l-40 112h-76Zm138-176h132l-64-182h-4l-64 182ZM240-160 100-300l56-56 44 42v-526h80v526l44-42 56 56-140 140Z"/>
                                        </svg>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Resizable Divider -->
        <div class="resizer" id="resizer"></div>
        
        <!-- Right side: Search Interface -->
        <div class="right-panel" id="right-panel">
            <button class="panel-toggle" id="right-panel-toggle" title="Hide Search">×</button>
            <div class="search-header">Search</div>
            <div class="right-panel-content">
            <section name="search_controls">
        <p>
            <label for="model_name">Model:</label>
            <select id="model_name">
                <option value="english_st">EnglishST</option>
                <option value="dictabert">DictaBERT</option>
            </select>
        </p>
        <p>
            <label for="chunking_level">Chunking:</label>
            <select id="chunking_level">
                <option value="quilt_piece">Quilt Piece</option>
                <option value="pericope">Pericope</option>
                <option value="note" selected>Melody Notes</option>
                <option value="verse">Verse</option>
            </select>
        </p>
        <p>
            <label for="top_k">Top K:</label>
            <input type="number" id="top_k" value="10" min="1" max="50">
        </p>
        <p>
            <label for="search_verses">Search Verses:</label>
            <textarea id="search_verses" rows="4" cols="50">[]</textarea>
        </p>
        <p style="display: flex; justify-content: space-between; align-items: center;">
            <input id="clear_verses_button" type="button" value="Clear Verses" disabled>
            <input id="search_button" type="button" value="Search">
        </p>
    </section>
    
    <section name="results">
        <div id="results_container">
            <p>No results yet. Click "Search" to perform a search.</p>
        </div>
    </section>
            </div>
        </div>
    </div>
</body>
</html>

